name: Docker base Image CI for GHCR

on:
  push
    #paths:
    #  - .github/.devcontainer/**


jobs:
  build-and-push:
    runs-on: ubuntu-latest
    steps:
    - 
      name: Checkout
      id: checkout
      uses: actions/checkout@v3
      
    -
        name: Login to GitHub Container Registry
        run: docker login --username gmainardi --password ${{ secrets.GH_PAT }} ghcr.io

    - 
        name: Pre-build dev container image
        run: devcontianer build --workspace-folder .github/ --push true --image-name ghcr.io/gmainardi/howler-monkey-base:latest

